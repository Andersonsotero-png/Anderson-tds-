<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Parquinho App - Terra do Sol</title>

  <link rel="manifest" href="manifest.json" />
  <link rel="stylesheet" href="css/style.css" />

  <script src="https://cdn.jsdelivr.net/npm/qrcode/build/qrcode.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/xlsx@0.18.5/dist/xlsx.full.min.js"></script>
</head>

<body>
<header>
  <div class="brand">
    <img src="assets/icons/icon-512.png" id="appLogo" />
    <h1>Parquinho App - Terra do Sol</h1>
  </div>

  <nav>
    <button data-tab="cadastro" class="active">Cadastro</button>
    <button data-tab="busca">Busca</button>
    <button data-tab="historico">Histórico</button>
    <button data-tab="impressao">Impressão</button>
  </nav>
</header>

<main>

<!-- ============ CADASTRO ============ -->
<section id="cadastro" class="tab active">

  <form id="formCadastro" autocomplete="off">

    <label>Nome da criança:
      <input id="nomeCrianca" type="text" required />
    </label>

    <label>Nome do responsável:
      <input id="responsavel" type="text" />
    </label>

    <label>Contato:
      <input id="contato" type="tel" required />
    </label>

    <label>Tipo de ingresso:
      <select id="tpIngresso">
        <option value="inteira">Inteira – R$ 35,90</option>
        <option value="meia">Meia – R$ 17,95</option>
        <option value="cortesia">Cortesia</option>
      </select>
    </label>

    <div id="boxMeia" style="display:none">
      <label>Categoria da Meia:
        <select id="catMeia">
          <option value="pcd">PCD</option>
          <option value="tea">TEA</option>
          <option value="down">Down</option>
        </select>
      </label>
    </div>

    <label>Observações:
      <textarea id="obs"></textarea>
    </label>

    <div class="row">
      <button type="button" id="btnCadastrar">Cadastrar</button>
    </div>
  </form>

  <div id="qrBox" class="card">
    <h3>Último QR gerado</h3>
    <div id="qrCodeCadastro"></div>
  </div>

</section>

<!-- ============ BUSCA ============ -->
<section id="busca" class="tab">
  <input id="inputBusca" type="text" placeholder="Buscar por nome..." onkeyup="buscarCadastro()" />
  <ul id="listaBusca"></ul>
</section>

<!-- ============ HISTÓRICO ============ -->
<section id="historico" class="tab">
  <h2>Histórico</h2>
  <div id="listaHistoricoContainer"></div>

  <div class="row">
    <button onclick="exportarExcel()">Exportar Excel</button>
  </div>
</section>

<!-- ============ IMPRESSÃO ============ -->
<section id="impressao" class="tab">
  <h2>Impressão</h2>

  <div class="card">
    <div class="row">
      <button id="btnImprimirFiltro">Gerar Relatório do Dia</button>
      <button id="btnVoltarImpressao" type="button" style="background:#555">Voltar</button>
    </div>
  </div>

  <div id="relatorioPreview" class="card"></div>

</section>

</main>

<script src="js/script.js"></script>
</body>
</html>
