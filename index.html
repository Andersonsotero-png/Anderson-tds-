<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Parquinho App - Terra do Sol</title>

  <!-- manifest (se usar PWA) -->
  <link rel="manifest" href="manifest.json" />

  <!-- CSS -->
  <link rel="stylesheet" href="style.css" />

  <!-- external libs -->
  <script defer src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/jsqr/dist/jsQR.min.js"></script>
  <script defer src="https://cdn.sheetjs.com/xlsx-latest/package/dist/xlsx.full.min.js"></script>

</head>
<body>
  <header class="topbar">
    <div class="brand">
      <img id="appLogo" src="assets/icons/icon-512.png" alt="Logo Terra do Sol">
      <div class="brand-text">
        <div class="brand-title">Terra do Sol</div>
        <div class="brand-sub">Gestão de Acessos • Parquinho</div>
      </div>
    </div>

    <nav class="tabs" role="tablist">
      <button class="tab active" data-tab="cadastro">Cadastro</button>
      <button class="tab" data-tab="busca">Busca</button>
      <button class="tab" data-tab="historico">Histórico</button>
      <button class="tab" data-tab="marketing">Marketing</button>
      <button class="tab" data-tab="impressao">Impressão</button>
    </nav>
  </header>

  <main class="main">

    <!-- CADASTRO -->
    <section id="cadastro" class="panel active">
      <div class="card">
        <h2>Cadastro da Criança</h2>

        <label>Tipo de pulseira</label>
        <select id="tipoPulseira">
          <option value="">Selecione</option>
          <option value="inteira">Inteira — R$ 35,90</option>
          <option value="meia">Meia — R$ 17,95</option>
          <option value="cortesia">Cortesia — R$ 0,00</option>
        </select>

        <div id="boxMotivoMeia" style="display:none">
          <label>Motivo (meia)</label>
          <select id="motivoMeia">
            <option value="">Selecione</option>
            <option value="pcd">PCD</option>
            <option value="tea">TEA</option>
            <option value="down">Down</option>
          </select>
        </div>

        <label>Nome da criança</label>
        <input id="nome" type="text" autocomplete="off">

        <div class="two-col">
          <div>
            <label>Data de nascimento</label>
            <input id="dataNasc" type="date">
          </div>
          <div>
            <label>Idade</label>
            <input id="idade" readonly>
          </div>
        </div>

        <label>Altura</label>
        <select id="altura">
          <option value="menor">&lt; 1m</option>
          <option value="maior">&ge; 1m</option>
        </select>

        <label>Pode sair sozinho?</label>
        <select id="saiSozinho">
          <option value="nao">Não</option>
          <option value="sim">Sim</option>
        </select>

        <label>Responsável</label>
        <input id="responsavel" type="text">

        <div class="two-col">
          <div>
            <label>Telefone (DDI+DDD+Número)</label>
            <input id="telefone" type="tel" placeholder="5511999999999">
          </div>
          <div>
            <label>Email</label>
            <input id="email" type="email">
          </div>
        </div>

        <label>Setor</label>
        <select id="setor">
          <option value="Salão">Salão</option>
          <option value="Coqueiro">Coqueiro</option>
          <option value="Guarda-sol">Guarda-sol</option>
        </select>

        <label>Mesa</label>
        <input id="mesa" type="text">

        <label>Possui alergia?</label>
        <select id="temAlergia">
          <option value="nao">Não</option>
          <option value="sim">Sim</option>
        </select>

        <div id="boxAlergia" style="display:none">
          <label>Qual alergia?</label>
          <input id="qualAlergia" type="text">
        </div>

        <label>Observações</label>
        <textarea id="observacoes"></textarea>

        <div class="button-row" style="margin-top:12px">
          <button id="btnSalvar" class="primary">Salvar cadastro</button>
          <button id="btnGerarQRTodos" class="secondary">Gerar QR todos</button>
        </div>

        <hr>

        <h3>Último QR gerado</h3>
        <div id="qrArea" class="qr-area"></div>
        <div class="button-row">
          <button id="btnBaixarQR">Baixar QR</button>
          <button id="btnImprimirEtiqueta">Imprimir etiqueta (4x4cm)</button>
          <button id="btnImprimirEtiquetaPeq">Imprimir etiqueta pequena</button>
        </div>
      </div>
    </section>

    <!-- BUSCA -->
    <section id="busca" class="panel">
      <div class="card">
        <h2>Busca Rápida</h2>
        <input id="inputBusca" placeholder="Buscar por nome, telefone, mesa ou ID" autocomplete="off">
        <ul id="listaBusca" class="list"></ul>
      </div>
    </section>

    <!-- HISTÓRICO -->
    <section id="historico" class="panel">
      <div class="card">
        <h2>Histórico</h2>

        <div class="two-col">
          <div>
            <label>Data início</label>
            <input id="histFrom" type="date">
          </div>
          <div>
            <label>Data fim</label>
            <input id="histTo" type="date">
          </div>
        </div>

        <div class="button-row">
          <button id="btnFiltrarHistorico" class="secondary">Filtrar</button>
          <button id="btnLimparFiltroHistorico">Limpar filtro</button>
          <button id="btnExportExcel">Exportar Excel</button>
        </div>

        <div id="listaHistorico" class="list"></div>
      </div>
    </section>

    <!-- MARKETING -->
    <section id="marketing" class="panel">
      <div class="card">
        <h2>Marketing</h2>
        <div class="button-row">
          <button id="btnSelecionarTodos">Selecionar todos</button>
          <button id="btnLimparSelecao">Limpar seleção</button>
          <button id="btnEnviarSelecionados">Enviar para selecionados</button>
        </div>
        <div id="listaMarketing"></div>
      </div>
    </section>

    <!-- IMPRESSÃO -->
    <section id="impressao" class="panel">
      <div class="card">
        <h2>Impressão / Relatório</h2>

        <div class="two-col">
          <div>
            <label>Data início</label>
            <input id="relFrom" type="date">
          </div>
          <div>
            <label>Data fim</label>
            <input id="relTo" type="date">
          </div>
        </div>

        <label>Ocorrências / Demandas do dia</label>
        <textarea id="ocorrenciasRel" rows="4" placeholder="Manutenção, fechamento de setor, etc."></textarea>

        <div class="button-row">
          <button id="btnGerarRelatorio" class="primary">Gerar relatório</button>
          <button id="btnImprimirRelatorio" class="secondary">Imprimir relatório</button>
          <button id="btnVoltarImpressao" style="background:#555;color:#fff">Voltar</button>
        </div>

        <div id="relatorioPreview" class="card"></div>
      </div>
    </section>

  </main>

  <!-- floating back button (aparece quando gerar relatórios/exportacoes/impressões) -->
  <button id="floatingBackBtn" title="Voltar ao app">Voltar ao App</button>

  <!-- app script -->
  <script defer src="app.js"></script>
</body>
</html>
